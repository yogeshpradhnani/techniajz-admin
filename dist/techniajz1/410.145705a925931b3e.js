"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[410],{6410:(K,M,s)=>{s.r(M),s.d(M,{DashboardsModule:()=>gt});var u=s(177),A=s(7960),p=s(7062),w=s(2221),t=s(4438),T=s(2616),N=s(5312),I=s(1626);let E=(()=>{class r{constructor(e){this.http=e,this.dashboardUrl=N.c.adminUrl+"/Lead"}getDashbordsDetails(){return this.http.get(this.dashboardUrl+"/dashboard")}getTodayTaskDetails(){return this.http.get(this.dashboardUrl+"/homePageleadList?leadStatus=9")}static#t=this.\u0275fac=function(a){return new(a||r)(t.KVO(I.Qq))};static#e=this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var x=s(6911);const j=()=>["/","admin","lead","add-lead"],O=()=>["/","admin","attendance","punch"];function $(r,l){1&r&&t.nrm(0,"i",36)}function P(r,l){1&r&&t.nrm(0,"i",37)}function z(r,l){1&r&&t.nrm(0,"i",38)}function d(r,l){if(1&r){const e=t.RV6();t.j41(0,"tr")(1,"th",28),t.EFF(2),t.k0s(),t.j41(3,"td"),t.nrm(4,"ngb-highlight",29),t.k0s(),t.j41(5,"td"),t.DNE(6,$,1,0,"i",30)(7,P,1,0,"i",31)(8,z,1,0,"i",32),t.k0s(),t.j41(9,"td"),t.nrm(10,"ngb-highlight",29),t.k0s(),t.j41(11,"td")(12,"ul",33)(13,"button",34),t.bIt("click",function(){const n=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.redirectToDetails(null==n?null:n._id))}),t.nrm(14,"i",35),t.k0s()()()()}if(2&r){const e=l.$implicit,a=t.XpG();t.R7$(2),t.JRh(e.name),t.R7$(2),t.Y8G("result",e.phone)("term",a.service.searchTerm),t.R7$(2),t.Y8G("ngIf","Hot Leads"===(null==e.leadlabels?null:e.leadlabels.name)),t.R7$(),t.Y8G("ngIf","Cold Leads"===(null==e.leadlabels?null:e.leadlabels.name)),t.R7$(),t.Y8G("ngIf",e.startVisit),t.R7$(2),t.Y8G("result",e.unReadLeadTimelines.toString())("term",a.service.searchTerm)}}function h(r,l){1&r&&(t.j41(0,"tr",27)(1,"td",39),t.EFF(2,"No records found"),t.k0s()())}let c=(()=>{class r{constructor(e,a,n,i,o){this.sharedService=e,this.dashboardService=a,this.service=n,this.datePipe=i,this.router=o,this.LeadData=[],this.upcomingTaskList=[],this.eventDay=""}ngOnInit(){this.getDashbordsDetails(),this.getUpcomingEventsDetails()}get isLoading(){return this.sharedService.isLoading}getDashbordsDetails(){this.sharedService.isLoading=!0,this.dashboardService.getDashbordsDetails().subscribe(({data:n})=>{(!n||null==typeof n)&&this.sharedService.displayServerMessage("Technical Error Occurred.","error"),this.LeadData=n},e=>{e&&e.error&&this.sharedService.displayServerMessage(e.error.message,"error"),this.sharedService.isLoading=!1},()=>{this.sharedService.isLoading=!1})}getUpcomingEventsDetails(){this.sharedService.isLoading=!0,this.dashboardService.getTodayTaskDetails().subscribe(({data:n})=>{(!n||null==typeof n)&&this.sharedService.displayServerMessage("Technical Error Occurred.","error"),this.upcomingTaskList=(n?.lead||[]).slice(0,50)},e=>{e&&e.error&&this.sharedService.displayServerMessage(e.error.message,"error"),this.sharedService.isLoading=!1},()=>{this.sharedService.isLoading=!1})}formatDate(e){return this.datePipe.transform(e,"dd/MM/yyyy")||""}redirectToLead(e){this.router.navigate(["admin/lead/list"],{state:{active:e}}).catch(n=>window.alert("Technical Error Occurred."))}redirectToDetails(e){try{const a=`admin/lead/lead-detail/${e}`;window.open(a,"_blank")}catch{window.alert("Technical Error Occurred.")}}static#t=this.\u0275fac=function(a){return new(a||r)(t.rXU(T.d),t.rXU(E),t.rXU(w.a),t.rXU(u.vh),t.rXU(p.Ix))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-dashboard-card"]],features:[t.Jv_([w.a,u.QX,u.vh])],decls:137,vars:14,consts:[[1,"container-fluid"],[1,"row","m-1"],[1,"col-12","col-md-6","col-lg-3","mx-2","my-1",3,"click"],[1,"card","row","p-2"],[1,"row"],[1,"info-box","col-4","col-md-3","m-0","icon-class"],[1,"fa","fa-user"],[1,"col-8","col-md-8","p-2"],[1,"pad-bottom","m-0"],[1,"text-bold","m-0"],[1,"icofont","icofont-user-alt-4"],[1,"icofont","icofont-fire-burn"],[1,"icofont","icofont-growth"],[1,"icon-control-shuffle"],[1,"icon-location-pin"],[1,"col-12","col-md-6","col-lg-3","mx-2","my-1"],[1,"card-link",3,"routerLink"],[1,"fa","fa-plus-square-o"],[1,"icofont","icofont-clock-time"],[1,"col-8","col-md-8","px-2","py-1"],[1,"icofont","icofont-runner"],[1,"card","m-2"],[1,"card-header","text-center","alert-light-primary"],[1,"card"],[1,"table-responsive","theme-scroollbar"],[1,"table","table-responsive","table-striped"],["scope","col"],[1,"odd"],["scope","row"],[3,"result","term"],["class","icofont icofont-fire-burn fire-icon mx-1","ngbTooltip","Hot Leads",4,"ngIf"],["class","icofont icofont-snow-alt ice-icon mx-1","ngbTooltip","Cold Leads",4,"ngIf"],["class","icofont icofont-runner ice-icon mx-1","ngbTooltip","Visit Ongoing",4,"ngIf"],[1,"action"],["ngbTooltip","Detail",1,"btn-sm","btn-outline-success","mx-1",3,"click"],[1,"icofont","icofont-eye-alt","px-1"],["ngbTooltip","Hot Leads",1,"icofont","icofont-fire-burn","fire-icon","mx-1"],["ngbTooltip","Cold Leads",1,"icofont","icofont-snow-alt","ice-icon","mx-1"],["ngbTooltip","Visit Ongoing",1,"icofont","icofont-runner","ice-icon","mx-1"],["colspan","6",1,"dataTables_empty",2,"text-align","center"]],template:function(a,n){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.bIt("click",function(){return n.redirectToLead(4)}),t.j41(3,"div",3)(4,"div",4)(5,"div",5),t.nrm(6,"span",6),t.k0s(),t.j41(7,"div",7)(8,"h4",8),t.EFF(9,"New Lead (Admin)"),t.k0s(),t.j41(10,"h2",9),t.EFF(11),t.k0s()()()()(),t.j41(12,"div",2),t.bIt("click",function(){return n.redirectToLead(4)}),t.j41(13,"div",3)(14,"div",4)(15,"div",5),t.nrm(16,"i",10),t.k0s(),t.j41(17,"div",7)(18,"h4",8),t.EFF(19,"New Lead (Self)"),t.k0s(),t.j41(20,"h2",9),t.EFF(21),t.k0s()()()()(),t.j41(22,"div",2),t.bIt("click",function(){return n.redirectToLead(5)}),t.j41(23,"div",3)(24,"div",4)(25,"div",5),t.nrm(26,"i",11),t.k0s(),t.j41(27,"div",7)(28,"h4",8),t.EFF(29,"Hot Lead"),t.k0s(),t.j41(30,"h2",9),t.EFF(31),t.k0s()()()()(),t.j41(32,"div",2),t.bIt("click",function(){return n.redirectToLead(9)}),t.j41(33,"div",3)(34,"div",4)(35,"div",5),t.nrm(36,"span",12),t.k0s(),t.j41(37,"div",7)(38,"h4",8),t.EFF(39,"All Action Lead"),t.k0s(),t.j41(40,"h2",9),t.EFF(41),t.k0s()()()()(),t.j41(42,"div",2),t.bIt("click",function(){return n.redirectToLead(8)}),t.j41(43,"div",3)(44,"div",4)(45,"div",5),t.nrm(46,"i",13),t.k0s(),t.j41(47,"div",7)(48,"h4",8),t.EFF(49,"Shuffle Lead To"),t.k0s(),t.j41(50,"h2",9),t.EFF(51),t.k0s()()()()(),t.j41(52,"div",2),t.bIt("click",function(){return n.redirectToLead(8)}),t.j41(53,"div",3)(54,"div",4)(55,"div",5),t.nrm(56,"i",13),t.k0s(),t.j41(57,"div",7)(58,"h4",8),t.EFF(59,"Shuffle Lead By"),t.k0s(),t.j41(60,"h2",9),t.EFF(61),t.k0s()()()()(),t.j41(62,"div",2),t.bIt("click",function(){return n.redirectToLead(7)}),t.j41(63,"div",3)(64,"div",4)(65,"div",5),t.nrm(66,"i",14),t.k0s(),t.j41(67,"div",7)(68,"h4",8),t.EFF(69,"Total Visit"),t.k0s(),t.j41(70,"h2",9),t.EFF(71),t.k0s()()()()(),t.j41(72,"div",15)(73,"a",16)(74,"div",3)(75,"div",4)(76,"div",5),t.nrm(77,"span",17),t.k0s(),t.j41(78,"div",7)(79,"h4",8),t.EFF(80,"Add New"),t.k0s(),t.j41(81,"h2",9),t.EFF(82,"Leads"),t.k0s()()()()()(),t.j41(83,"div",15)(84,"a",16)(85,"div",3)(86,"div",4)(87,"div",5),t.nrm(88,"span",18),t.k0s(),t.j41(89,"div",19)(90,"h3",8),t.EFF(91,"Punch"),t.k0s(),t.j41(92,"h2",9),t.EFF(93,"In/Out"),t.k0s()()()()()(),t.j41(94,"div",2),t.bIt("click",function(){return n.redirectToLead(6)}),t.j41(95,"div",3)(96,"div",4)(97,"div",5),t.nrm(98,"i",14),t.k0s(),t.j41(99,"div",7)(100,"h4",8),t.EFF(101,"Today's Visit"),t.k0s(),t.j41(102,"h2",9),t.EFF(103),t.k0s()()()()(),t.j41(104,"div",2),t.bIt("click",function(){return n.redirectToLead(1)}),t.j41(105,"div",3)(106,"div",4)(107,"div",5),t.nrm(108,"i",20),t.k0s(),t.j41(109,"div",7)(110,"h4",8),t.EFF(111,"Running Lead"),t.k0s(),t.j41(112,"h2",9),t.EFF(113),t.k0s()()()()()(),t.j41(114,"div",21)(115,"div",22)(116,"h3"),t.EFF(117,"Upcoming Task"),t.k0s()()(),t.j41(118,"div",23)(119,"div",24)(120,"table",25)(121,"thead")(122,"tr")(123,"th",26),t.EFF(124,"Name"),t.k0s(),t.j41(125,"th",26),t.EFF(126,"Contact Number"),t.k0s(),t.j41(127,"th",26),t.EFF(128,"Lead Label"),t.k0s(),t.j41(129,"th",26),t.EFF(130,"Remark"),t.k0s(),t.j41(131,"th",26),t.EFF(132,"Action"),t.k0s()()(),t.j41(133,"tbody"),t.Z7z(134,d,15,8,"tr",null,t.fX1,!1,h,3,0,"tr",27),t.k0s()()()()()),2&a&&(t.R7$(11),t.JRh(n.LeadData.newLeads),t.R7$(10),t.JRh(n.LeadData.newLeadsBySelf),t.R7$(10),t.JRh(n.LeadData.hotLeads),t.R7$(10),t.JRh(n.LeadData.allActionLeads),t.R7$(10),t.JRh(n.LeadData.shuffleToLeads),t.R7$(10),t.JRh(n.LeadData.shufflebyLeads),t.R7$(10),t.JRh(n.LeadData.totalvisitLeads),t.R7$(2),t.Y8G("routerLink",t.lJ4(12,j)),t.R7$(11),t.Y8G("routerLink",t.lJ4(13,O)),t.R7$(19),t.JRh(n.LeadData.todayVisitLeads),t.R7$(10),t.JRh(n.LeadData.runningLeads),t.R7$(21),t.Dyx(n.upcomingTaskList))},dependencies:[u.bT,p.Wk,x.md,x.Qr],styles:[".cdk-overlay-container{position:fixed;z-index:1060!important}  .mat-datepicker-content .mat-calendar{background-color:#fff!important}  .mat-mdc-form-field-flex{background-color:#fff!important;height:39px!important}.input-width[_ngcontent-%COMP%]{width:100%!important}  .mat-from-field{height:64px!important}  .mat-mdc-form-field-infix{padding-top:5px!important}  .mat-mdc-text-field-wrapper.mdc-text-field{border-radius:var(--bs-border-radius)!important;border:var(--bs-border-width) solid var(--bs-border-color)!important;background-color:#fff!important}  .mdc-line-ripple{display:none}  .mdc-text-field--focused{border:none;box-shadow:0 0 0 .25rem #0d6efd40!important;border-radius:var(--bs-border-radius)!important;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out!important;background-color:transparent!important}  .mat-calendar-controls button,   mat-datepicker-toggle{color:var(--theme-default)!important}  .success-icon .ng-select-container{padding-right:calc(1.5em + .75rem)!important;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\")!important;background-repeat:no-repeat!important;background-position:right calc(.375em + .1875rem) center!important;background-size:calc(.75em + .375rem) calc(.75em + .375rem)!important}  .error-icon .ng-select-container{padding-right:calc(1.5em + .75rem)!important;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")!important;background-repeat:no-repeat!important;background-position:right calc(.375em + .1875rem) center!important;background-size:calc(.75em + .375rem) calc(.75em + .375rem)!important}  .error-shadow .ng-select-container{box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)!important}  .success-shadow .ng-select-container{box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)!important}  .custom-select .ng-select-container,   input .list-input,   .list-input{border:solid 1px #33bfbf!important;border-color:#33bfbf!important}.error-msg[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:.875em;color:#f1523d!important}.mt-custom[_ngcontent-%COMP%]{margin-top:-16px!important}[_nghost-%COMP%]     select.form-select:focus{border-color:#33bfbf;box-shadow:0 0 0 .25rem #33bfbf80}.active-sort[_ngcontent-%COMP%]{color:#fffc!important}  .ng-select-container{max-height:40px!important;overflow-y:auto!important}  .ng-dropdown-panel{max-height:auto!important}.info-box[_ngcontent-%COMP%]{font-size:48px!important;display:flex;justify-content:center;align-items:center;border-radius:7px}.info-box-calender[_ngcontent-%COMP%]{background-color:#03a9f4}.icon-size[_ngcontent-%COMP%]{font-size:40px!important;height:auto;width:auto;color:#464846}.mat-card-title[_ngcontent-%COMP%]{font-weight:500!important}mat-card-header[_ngcontent-%COMP%]{background:#c5ddc3!important}.event[_ngcontent-%COMP%]{height:33px!important}.icon-class[_ngcontent-%COMP%]{background-color:#33bfbf80!important}.btn-sm[_ngcontent-%COMP%]{padding-top:3px}.fire-icon[_ngcontent-%COMP%]{color:red;font-size:x-large}.ice-icon[_ngcontent-%COMP%]{color:#0ff;font-size:x-large}"]})}return r})();var g=s(7575);function v(r,l){1&r&&t.nrm(0,"mat-progress-bar",1)}const U=[{path:"",component:(()=>{class r{constructor(e,a){this.sharedService=e,this.cdref=a}get isLoading(){return this.sharedService.isLoading}ngAfterContentChecked(){this.cdref.detectChanges()}ngOnInit(){}static#t=this.\u0275fac=function(a){return new(a||r)(t.rXU(T.d),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-dashboards"]],decls:2,vars:1,consts:[["mode","indeterminate","class","mb-3",4,"ngIf"],["mode","indeterminate",1,"mb-3"]],template:function(a,n){1&a&&(t.DNE(0,v,1,0,"mat-progress-bar",0),t.nrm(1,"router-outlet")),2&a&&t.Y8G("ngIf",n.isLoading)},dependencies:[u.bT,p.n3,g.HM]})}return r})(),children:[{path:"dashboard",component:c,data:{title:"Administrator Dashboard"}}]}];let f=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#e=this.\u0275mod=t.$C({type:r});static#a=this.\u0275inj=t.G2t({imports:[p.iI.forChild(U),p.iI]})}return r})();var C=s(8820);let at=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#e=this.\u0275mod=t.$C({type:r});static#a=this.\u0275inj=t.G2t({imports:[C.yE,u.MD,C.yE]})}return r})();s(7673),s(8810),s(7468),s(8141),s(6354),s(9437),s(980),s(7647),s(345);let ut=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#e=this.\u0275mod=t.$C({type:r});static#a=this.\u0275inj=t.G2t({imports:[C.yE,C.yE]})}return r})(),gt=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#e=this.\u0275mod=t.$C({type:r});static#a=this.\u0275inj=t.G2t({imports:[ut,u.MD,f,A.G,at]})}return r})()},2221:(K,M,s)=>{s.d(M,{a:()=>z});var u=s(4412),A=s(1413),p=s(7673);const w=[];var t=s(8141),T=s(152),N=s(5558),I=s(1986),E=s(5312),x=s(4438),j=s(177);let z=(()=>{class d{constructor(c){this.pipe=c,this._loading$=new u.t(!0),this._search$=new A.B,this._data$=new u.t([]),this._total$=new u.t(0),this._state={page:E.k.page,pageSize:E.k.pageSize,searchTerm:"",sortColumn:"",sortDirection:""},this._search$.pipe((0,t.M)(()=>this._loading$.next(!0)),(0,T.B)(200),(0,N.n)(()=>this._search()),(0,I.c)(200),(0,t.M)(()=>this._loading$.next(!1))).subscribe(g=>{this._data$.next(g.Details),this._total$.next(g.total)}),this._search$.next()}get supportdata$(){return this._data$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(c){this._set({page:c})}set pageSize(c){this._set({pageSize:c})}set searchTerm(c){this._set({searchTerm:c})}set sortColumn(c){this._set({sortColumn:c})}set sortDirection(c){this._set({sortDirection:c})}_set(c){Object.assign(this._state,c),this._search$.next()}_search(){const{sortColumn:c,sortDirection:g,pageSize:v,page:b,searchTerm:U}=this._state;let f=function $(d,h,c){return""===c||""===h?d:[...d].sort((g,v)=>{const b=((d,h)=>d<h?-1:d>h?1:0)(g[h],v[h]);return"asc"===c?b:-b})}(w,c,g);f=f.filter(V=>function P(d,h,c){return d.name.toLowerCase().includes(h.toLowerCase())||d.position.toLowerCase().includes(h.toLowerCase())||c.transform(d.salary).includes(h)||d.office.toLowerCase().includes(h.toLowerCase())||c.transform(d.extn).includes(h)||d.email.toLowerCase().includes(h.toLowerCase())}(V,U,this.pipe));const C=f.length;return f=f.slice((b-1)*v,(b-1)*v+v),(0,p.of)({Details:f,total:C})}static#t=this.\u0275fac=function(g){return new(g||d)(x.KVO(j.QX))};static#e=this.\u0275prov=x.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);