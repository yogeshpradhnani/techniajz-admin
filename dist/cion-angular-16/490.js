"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[490],{5490:(be,N,h)=>{h.d(N,{hW:()=>ge,w8:()=>pe});var b=h(467),u=h(4438),L=h(1594),D=h(9417);const l=new Array(256).fill("").map((e,n)=>("0"+n.toString(16)).slice(-2));function k(e){return!!e&&/^\d+\.\d+\.\d+/.test(e)}function y(e){return!!e&&["nightly","alpha","internal"].some(n=>e.includes(n))}function R(e){if(y(e))return 3;const{major:n}=function K(e){if(!k(e))throw new Error(`Invalid semantic version: ${e||"<blank>"}.`);const[n,t,r]=e.split(".");return{major:Number.parseInt(n,10),minor:Number.parseInt(t,10),patch:Number.parseInt(r,10)}}(e);switch(!0){case n>=44:return 3;case n>=38:return 2;default:return 1}}function A(e,n){switch(n||=function X(){const e=function S(){const{CKEDITOR_VERSION:e,CKEDITOR:n}=window;return function z(e){return k(e)||y(e)}(e)?{source:n?"cdn":"npm",version:e}:null}();return e?R(e.version):null}()||void 0,n){case 1:case 2:return void 0===e;case 3:return"GPL"===e;default:return!1}}var de=h(177);function le(e,n){}const fe=function Y(e,n){return function(r){A(r.config.get("licenseKey"))||r.on("collectUsageData",(i,{setUsageData:o})=>{o(`integration.${e}`,n)})}}("angular",{version:"9.1.0",frameworkVersion:u.xvI.full}),I="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let ge=(()=>{class e{elementRef;editor;config={};data="";tagName="div";watchdog;editorWatchdogConfig;disableTwoWayDataBinding=!1;set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}ready=new u.bkB;change=new u.bkB;blur=new u.bkB;focus=new u.bkB;error=new u.bkB;get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}editorWatchdog;initiallyDisabled=!1;ngZone;cvaOnChange;cvaOnTouched;editorElement;isEditorSettingData=!1;id=function U(){const[e,n,t,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+l[255&e]+l[e>>8&255]+l[e>>16&255]+l[e>>24&255]+l[255&n]+l[n>>8&255]+l[n>>16&255]+l[n>>24&255]+l[255&t]+l[t>>8&255]+l[t>>16&255]+l[t>>24&255]+l[255&r]+l[r>>8&255]+l[r>>16&255]+l[r>>24&255]}();getId(){return this.id}constructor(t,r){this.ngZone=r,this.elementRef=t,this.checkVersion()}checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[r]=t.split(".").map(Number);r>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}ngOnChanges(t){Object.prototype.hasOwnProperty.call(t,"data")&&t.data&&!t.data.isFirstChange()&&this.writeValue(t.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var t=this;return(0,b.A)(function*(){t.watchdog?yield t.watchdog.remove(t.id):t.editorWatchdog&&t.editorWatchdog.editor&&(yield t.editorWatchdog.destroy(),t.editorWatchdog=void 0)})()}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(t),this.isEditorSettingData=!1):(this.data=t,this.ready.pipe((0,L.$)()).subscribe(r=>{r.data.set(this.data)}))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(t?this.editorInstance.enableReadOnlyMode(I):this.editorInstance.disableReadOnlyMode(I)),this.initiallyDisabled=t}attachToWatchdog(){var t=this;const r=(s,f)=>this.ngZone.runOutsideAngular((0,b.A)(function*(){t.elementRef.nativeElement.appendChild(s);const d=yield t.editor.create(s,f);return t.initiallyDisabled&&d.enableReadOnlyMode(I),t.ngZone.run(()=>{t.ready.emit(d)}),t.setUpEditorEvents(d),d})),i=function(){var s=(0,b.A)(function*(f){yield f.destroy(),t.elementRef.nativeElement.removeChild(t.editorElement)});return function(d){return s.apply(this,arguments)}}(),o=s=>{!function me(e){return e.observed||e.observers.length>0}(this.error)?console.error(s):this.ngZone.run(()=>this.error.emit(s))},a=document.createElement(this.tagName),c=this.getConfig();if(this.editorElement=a,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:r,destructor:i,sourceElementOrData:a,config:c}).catch(s=>{o(s)}),this.watchdog.on("itemError",(s,{itemId:f})=>{f===this.id&&o()});else{const s=new this.editor.EditorWatchdog(this.editor,this.editorWatchdogConfig);s.setCreator(r),s.setDestructor(i),s.on("error",o),this.editorWatchdog=s,this.ngZone.runOutsideAngular(()=>{s.create(a,c).catch(f=>{o(f)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const t={...this.config},r=this.config.initialData||this.data;return r&&(t.initialData=r),function he(e){const n=[];return A(e.licenseKey)||n.push(fe),function H(e,n){const t=e.extraPlugins||[];return{...e,extraPlugins:[...t,...n.filter(r=>!t.includes(r))]}}(e,n)}(t)}setUpEditorEvents(t){const i=t.editing.view.document;t.model.document.on("change:data",o=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const a=t.data.get();this.cvaOnChange(a)}this.change.emit({event:o,editor:t})}})}),i.on("focus",o=>{this.ngZone.run(()=>{this.focus.emit({event:o,editor:t})})}),i.on("blur",o=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:o,editor:t})})})}static \u0275fac=function(r){return new(r||e)(u.rXU(u.aKT),u.rXU(u.SKi))};static \u0275cmp=u.VBU({type:e,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[u.Jv_([{provide:D.kq,useExisting:(0,u.Rfq)(()=>e),multi:!0}]),u.OA$],decls:1,vars:0,template:function(r,i){1&r&&u.DNE(0,le,0,0,"ng-template")},encapsulation:2})}return e})(),pe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=u.$C({type:e});static \u0275inj=u.G2t({imports:[D.YN,de.MD]})}return e})()}}]);