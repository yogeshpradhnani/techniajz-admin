"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[422],{5422:(j,l,n)=>{n.r(l),n.d(l,{ChangepasswordModule:()=>I});var h=n(177),p=n(9213),f=n(2015),g=n(5596),e=n(9417),w=n(9818),d=n(1626),c=n(2791),o=n(4438),v=n(4656),C=n(7575);function P(s,i){1&s&&o.nrm(0,"mat-progress-bar",1)}let F=(()=>{class s{constructor(t,r){this.sharedService=t,this.cdref=r}get isLoading(){return this.sharedService.isLoading}ngAfterContentChecked(){this.cdref.detectChanges()}ngOnInit(){}static#o=this.\u0275fac=function(r){return new(r||s)(o.rXU(v.d),o.rXU(o.gRc))};static#s=this.\u0275cmp=o.VBU({type:s,selectors:[["app-changepassword"]],decls:2,vars:1,consts:[["mode","indeterminate","class","mb-3",4,"ngIf"],["mode","indeterminate",1,"mb-3"]],template:function(r,a){1&r&&(o.DNE(0,P,1,0,"mat-progress-bar",0),o.nrm(1,"router-outlet")),2&r&&o.Y8G("ngIf",a.isLoading)},dependencies:[h.bT,c.n3,C.HM]})}return s})();class y{constructor(i){this.formBuilder=i,this.formGroup=this.formBuilder.group({oldPassword:["",e.k0.required],newPassword:["",[e.k0.required,e.k0.minLength(6)]],confirmPassword:["",[e.k0.required,e.k0.minLength(6)]]},{validators:this.passwordsMatch})}passwordsMatch(i){const t=i.get("newPassword")?.value,r=i.get("confirmPassword")?.value;return t===r?null:{mismatch:!0}}}var G=n(786);const b=[{path:"",component:F,data:{breadcrumb:"Changepassword"},children:[{path:"change",component:(()=>{class s{constructor(t,r,a,m){this.formBuilder=t,this.authService=r,this.http=a,this.router=m}ngOnInit(){this.changeForm=new y(this.formBuilder)}onSubmit(){if(console.log("check =",this.changeForm.formGroup.valid),this.changeForm.formGroup.valid){const t=new FormData;t.append("oldPassword",this.changeForm.formGroup.value.oldPassword),t.append("newPassword",this.changeForm.formGroup.value.newPassword),t.append("confirmPassword",this.changeForm.formGroup.value.confirmPassword);const r=localStorage.getItem("jwt");if(!r)return void this.router.navigate(["/login"]).then(()=>{window.history.replaceState({},"","/login")});const a=new d.Lr({Authorization:r});this.http.post("http://localhost:3001/user/changepassword",t,{headers:a}).subscribe(u=>{console.log("data send succefully")},u=>{console.log("error ",u)})}else console.log("Form is invalid")}static#o=this.\u0275fac=function(r){return new(r||s)(o.rXU(e.ok),o.rXU(G.u),o.rXU(d.Qq),o.rXU(c.Ix))};static#s=this.\u0275cmp=o.VBU({type:s,selectors:[["app-change"]],decls:14,vars:1,consts:[[3,"formGroup"],[1,"form-group"],["for","oldPassword"],["type","password","id","oldPassword","formControlName","oldPassword","required","",1,"form-control"],["for","newPassword"],["type","password","id","newPassword","formControlName","newPassword","required","",1,"form-control"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","required","",1,"form-control"],["type","submit","value","change password",1,"btn","btn-primary",3,"click"]],template:function(r,a){1&r&&(o.j41(0,"form",0)(1,"div",1)(2,"label",2),o.EFF(3,"Old Password"),o.k0s(),o.nrm(4,"input",3),o.k0s(),o.j41(5,"div",1)(6,"label",4),o.EFF(7,"New Password"),o.k0s(),o.nrm(8,"input",5),o.k0s(),o.j41(9,"div",1)(10,"label",6),o.EFF(11,"Confirm Password"),o.k0s(),o.nrm(12,"input",7),o.k0s(),o.j41(13,"input",8),o.bIt("click",function(){return a.onSubmit()}),o.k0s()()),2&r&&o.Y8G("formGroup",a.changeForm.formGroup)},dependencies:[e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD]})}return s})(),data:{title:"Changepassword List"}}]}];let k=(()=>{class s{static#o=this.\u0275fac=function(r){return new(r||s)};static#s=this.\u0275mod=o.$C({type:s});static#r=this.\u0275inj=o.G2t({imports:[c.iI.forChild(b),c.iI]})}return s})(),I=(()=>{class s{static#o=this.\u0275fac=function(r){return new(r||s)};static#s=this.\u0275mod=o.$C({type:s});static#r=this.\u0275inj=o.G2t({imports:[h.MD,k,p.m_,f.G,g.Hu,e.X1,w.MQ,d.q1]})}return s})()}}]);