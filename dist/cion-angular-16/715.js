"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[715],{3715:(G,m,n)=>{n.r(m),n.d(m,{UserModule:()=>q});var l=n(177),c=n(2791),e=n(4438),u=n(4656),C=n(7575);function y(t,d){1&t&&e.nrm(0,"mat-progress-bar",1)}let T=(()=>{class t{constructor(s,r){this.sharedService=s,this.cdref=r}get isLoading(){return this.sharedService.isLoading}ngAfterContentChecked(){this.cdref.detectChanges()}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)(e.rXU(u.d),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-user"]],decls:2,vars:1,consts:[["mode","indeterminate","class","mb-3",4,"ngIf"],["mode","indeterminate",1,"mb-3"]],template:function(r,i){1&r&&(e.DNE(0,y,1,0,"mat-progress-bar",0),e.nrm(1,"router-outlet")),2&r&&e.Y8G("ngIf",i.isLoading)},dependencies:[l.bT,c.n3,C.HM]})}return t})();var _=n(7673),h=n(7639),v=n(7144),g=n(3920),f=n(6911),o=n(9417);const I=()=>["/","admin","user","add-users"];function S(t,d){if(1&t){const s=e.RV6();e.j41(0,"tr")(1,"th",11),e.EFF(2),e.k0s(),e.j41(3,"td"),e.nrm(4,"ngb-highlight",12),e.k0s(),e.j41(5,"td"),e.nrm(6,"ngb-highlight",12),e.k0s(),e.j41(7,"td"),e.nrm(8,"ngb-highlight",12),e.k0s(),e.j41(9,"td")(10,"ul",13)(11,"button",14),e.bIt("click",function(){const i=e.eBV(s).$implicit,a=e.XpG();return e.Njj(a.confirmDeleteEmployee(i._id))}),e.nrm(12,"i",15),e.k0s()()()()}if(2&t){const s=d.$implicit,r=e.XpG();e.R7$(2),e.JRh(s.id),e.R7$(2),e.Y8G("result",s.name)("term",r.service.searchTerm),e.R7$(2),e.Y8G("result",s.email)("term",r.service.searchTerm),e.R7$(2),e.Y8G("result",s.mobile)("term",r.service.searchTerm)}}function A(t,d){1&t&&(e.j41(0,"tr",10)(1,"td",16),e.EFF(2,"No records found"),e.k0s()())}let R=(()=>{class t{constructor(s,r,i,a){this.service=s,this.sharedService=r,this.usersService=i,this.modalService=a,this.pageIndex=v.k.page,this.pageSize=v.k.pageSize,this.searchTerm=""}ngOnInit(){this.getUsersList()}getUsersList(){this.sharedService.isLoading=!0,this.usersService.getUsersList({page:this.pageIndex,limit:this.pageSize,search:this.searchTerm}).subscribe(({data:a})=>{(!a||null==typeof a.data)&&this.sharedService.displayServerMessage("Error Occurred.","error"),this.tableData$=(0,_.of)(a?.employee)},r=>{r&&r.error&&("Unauthorized access."===r.error.message?this.sharedService.logOut():this.sharedService.displayServerMessage(r.error.message,"error")),this.sharedService.isLoading=!1},()=>{this.sharedService.isLoading=!1})}confirmDeleteEmployee(s){alert(s)}static#e=this.\u0275fac=function(r){return new(r||t)(e.rXU(h.a),e.rXU(u.d),e.rXU(g.g),e.rXU(f.Bq))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-user-list"]],features:[e.Jv_([h.a,l.QX])],decls:28,vars:5,consts:[[1,"card"],[1,"card-body"],[1,"row","justify-content-between","mb-2"],[1,"w-40","text-end"],[1,"btn-group","mx-1"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"icon-plus"],[1,"table-responsive","theme-scroollbar"],[1,"table","table-responsive","table-striped"],[1,"text-center"],[1,"odd"],["scope","row"],[3,"result","term"],[1,"action","justify-content-center"],["ngbTooltip","Delete",1,"btn-sm","btn-outline-danger","mx-1",3,"click"],[1,"fa","fa-trash-o","px-1","icon_size"],["colspan","10",1,"dataTables_empty",2,"text-align","center"]],template:function(r,i){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.EFF(6,"Add "),e.nrm(7,"i",6),e.k0s()()()(),e.nrm(8,"hr"),e.j41(9,"form",7)(10,"table",8)(11,"thead")(12,"tr")(13,"th"),e.EFF(14,"Id"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Name"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Email"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Mobile No"),e.k0s(),e.j41(21,"th",9),e.EFF(22,"Action"),e.k0s()()(),e.j41(23,"tbody"),e.Z7z(24,S,13,7,"tr",null,e.fX1,!1,A,3,0,"tr",10),e.nI1(27,"async"),e.k0s()()()()()),2&r&&(e.R7$(5),e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(19),e.Dyx(e.bMT(27,2,i.tableData$)))},dependencies:[c.Wk,f.md,f.Qr,o.qT,o.cb,l.Jj]})}return t})();var B=n(5952),E=n(9818);const L=t=>({"was-validated":t});function $(t,d){if(1&t&&(e.j41(0,"div"),e.nrm(1,"img",27),e.k0s()),2&t){const s=e.XpG();e.R7$(),e.Y8G("src",s.selectedFiles.previewUrl,e.B4B)}}function N(t,d){1&t&&(e.j41(0,"div",28),e.EFF(1,"Name is required."),e.k0s())}function Y(t,d){1&t&&(e.j41(0,"div",29),e.EFF(1,"Please enter a valid Name."),e.k0s())}function M(t,d){1&t&&(e.j41(0,"div",29),e.EFF(1,"Enter valid mobile number."),e.k0s())}function D(t,d){1&t&&(e.j41(0,"div",28),e.EFF(1,"Mobile is required."),e.k0s())}function X(t,d){1&t&&(e.j41(0,"div",29),e.EFF(1,"Gender is required."),e.k0s())}function x(t,d){1&t&&(e.j41(0,"div",28),e.EFF(1,"Email is required."),e.k0s())}function O(t,d){1&t&&(e.j41(0,"div",29),e.EFF(1,"Please enter a valid email address."),e.k0s())}const J=[{path:"",component:T,data:{breadcrumb:"User"},children:[{path:"list",component:R,data:{title:"User List"}},{path:"add-users",component:(()=>{class t{constructor(s,r,i){this.formBuilder=s,this.sharedService=r,this.userService=i,this.isEditMode=!1,this.validate=!1,this.selectedFiles={}}ngOnInit(){this.genderTypeList=B.Hf}onFileSelected(s){const r=s.target.files[0];if(r){const i=new FileReader;i.onload=()=>{this.selectedFiles={name:r.name,previewUrl:i.result}},i.readAsDataURL(r),this.addEditUserForm.formGroup.get("image")?.setValue(r)}}errorMsgShowed(s){const r=this.addEditUserForm.formGroup?.get(s);return{"error-icon":r?.hasError("required")&&this.validate,"success-icon":!r?.hasError("required")&&this.validate,"error-shadow":r?.hasError("required")&&this.validate,"success-shadow":!r?.hasError("required")&&this.validate}}goBack(){this.sharedService.goBack()}onSubmit(){alert("Submitted")}static#e=this.\u0275fac=function(r){return new(r||t)(e.rXU(o.ok),e.rXU(u.d),e.rXU(g.g))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-add-edit-user"]],decls:51,vars:14,consts:[[1,"container-fluid"],[1,"card"],[1,"row","justify-content-between","m-3"],[1,"col-md-2","btn-group","text-end"],[1,"btn","btn-outline-primary",3,"click"],[1,"icofont","icofont-arrow-left"],[1,"card-body"],["id","bottom-home",1,"tab-pane","fade","show"],["novalidate","",1,"row","g-3","needs-validation","custom-input",3,"formGroup","ngClass"],[4,"ngIf"],[1,"col-md-6"],["for","imgpicker",1,"form-label"],["type","file","accept",".jpg, .jpeg, .png",1,"form-control",3,"change"],["for","name",1,"form-label"],[1,"text-danger"],["id","name","placeholder","Name","type","text","formControlName","name","required","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["class","error-msg",4,"ngIf"],["for","mobile",1,"form-label"],["type","number","id","mobile","placeholder","Mobile","autocomplete","off","formControlName","mobile","required","","pattern","[0-9]{10}$",1,"form-control"],["for","gender",1,"form-label"],["id","gender","bindLabel","description","bindValue","value","formControlName","gender","placeholder","Select Gender","required","",3,"items","ngClass"],["for","email",1,"form-label"],["id","email","placeholder","Email","type","text","formControlName","email","required","",1,"form-control"],[1,"mt-3","d-flex","justify-content-end"],[1,"col-md-1","mx-1","text-end"],["type","submit",1,"btn","btn-primary",3,"click"],["alt","Preview","width","150",1,"img-100","img-h-100","me-2","rounded-circle",3,"src"],[1,"invalid-feedback"],[1,"error-msg"]],template:function(r,i){if(1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.bIt("click",function(){return i.goBack()}),e.EFF(5,"Back "),e.nrm(6,"i",5),e.k0s()()(),e.nrm(7,"hr"),e.j41(8,"div",6)(9,"div",7)(10,"form",8),e.DNE(11,$,2,1,"div",9),e.j41(12,"div",10)(13,"label",11),e.EFF(14,"Profile Image"),e.k0s(),e.j41(15,"input",12),e.bIt("change",function(p){return i.onFileSelected(p)}),e.k0s()(),e.j41(16,"div",10)(17,"label",13),e.EFF(18,"Name"),e.j41(19,"a",14),e.EFF(20,"*"),e.k0s()(),e.nrm(21,"input",15),e.DNE(22,N,2,0,"div",16)(23,Y,2,0,"div",17),e.k0s(),e.j41(24,"div",10)(25,"label",18),e.EFF(26,"Mobile"),e.j41(27,"a",14),e.EFF(28,"*"),e.k0s()(),e.nrm(29,"input",19),e.DNE(30,M,2,0,"div",17)(31,D,2,0,"div",16),e.k0s(),e.j41(32,"div",10)(33,"label",20),e.EFF(34,"Gender"),e.j41(35,"a",14),e.EFF(36,"*"),e.k0s()(),e.nrm(37,"ng-select",21),e.DNE(38,X,2,0,"div",17),e.k0s(),e.j41(39,"div",10)(40,"label",22),e.EFF(41,"Email"),e.j41(42,"a",14),e.EFF(43,"*"),e.k0s()(),e.nrm(44,"input",23),e.DNE(45,x,2,0,"div",16)(46,O,2,0,"div",17),e.k0s(),e.j41(47,"div",24)(48,"div",25)(49,"button",26),e.bIt("click",function(){return i.onSubmit()}),e.EFF(50,"Submit"),e.k0s()()()()()()()()),2&r){let a,p,F,b,U,j,k;e.R7$(10),e.Y8G("formGroup",i.addEditUserForm.formGroup)("ngClass",e.eq3(12,L,i.validate)),e.R7$(),e.Y8G("ngIf",i.selectedFiles.previewUrl),e.R7$(11),e.Y8G("ngIf",null==(a=i.addEditUserForm.formGroup.get("name"))?null:a.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(p=i.addEditUserForm.formGroup.get("name"))?null:p.hasError("pattern")),e.R7$(7),e.Y8G("ngIf",null==(F=i.addEditUserForm.formGroup.get("mobile"))?null:F.hasError("pattern")),e.R7$(),e.Y8G("ngIf",null==(b=i.addEditUserForm.formGroup.get("mobile"))?null:b.hasError("required")),e.R7$(6),e.Y8G("items",i.genderTypeList)("ngClass",i.errorMsgShowed("gender")),e.R7$(),e.Y8G("ngIf",(null==(U=i.addEditUserForm.formGroup.get("gender"))?null:U.hasError("required"))&&i.validate),e.R7$(7),e.Y8G("ngIf",null==(j=i.addEditUserForm.formGroup.get("email"))?null:j.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(k=i.addEditUserForm.formGroup.get("email"))?null:k.hasError("email"))}},dependencies:[l.YU,l.bT,o.qT,o.me,o.Q0,o.BC,o.cb,o.YS,o.R_,o.j4,o.JD,E.vr]})}return t})(),data:{title:"Add User"}},{path:"user-list",component:n(5673).F,data:{title:"User List"}}]}];let V=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=e.$C({type:t});static#r=this.\u0275inj=e.G2t({imports:[c.iI.forChild(J),c.iI]})}return t})();var z=n(9213),H=n(2015),Q=n(5596);let q=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=e.$C({type:t});static#r=this.\u0275inj=e.G2t({imports:[l.MD,V,z.m_,H.G,Q.Hu,o.X1,E.MQ]})}return t})()},5952:(G,m,n)=>{n.d(m,{Hf:()=>c,Nx:()=>e,g1:()=>l});const l=[{value:2,description:"2"},{value:25,description:"25"},{value:50,description:"50"},{value:100,description:"100"},{value:250,description:"250"}],c=[{value:"female",description:"Female"},{value:"male",description:"Male"}],e=[{value:"A+",description:"A+"},{value:"A-",description:"A-"},{value:"B+",description:"B+"},{value:"B-",description:"B-"},{value:"AB+",description:"AB+"},{value:"AB-",description:"AB-"},{value:"O+",description:"O+"},{value:"O-",description:"O-"}]}}]);